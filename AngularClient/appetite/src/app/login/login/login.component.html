<h1 class="title">Login</h1>

<form class="general-form" [formGroup]="form" (ngSubmit)="login()">
	<div class="form-row">
		<mat-form-field>
			<input
				type="email"
				name="email"
				matInput
				formControlName="email"
				placeholder="E-Mail"
				autocomplete="email"
			/>
			<mat-error *ngIf="form.controls.email.hasError('required')"
				>Bitte gebe eine E-Mail Adresse ein</mat-error
			>
			<mat-error *ngIf="form.controls.email.hasError('email')"
				>Keine gültige E-Mail Adresse</mat-error
			>
		</mat-form-field>
	</div>
	<div class="form-row">
		<mat-form-field>
			<input
				type="password"
				name="password"
				matInput
				formControlName="password"
				placeholder="Passwort"
				autocomplete="current-password"
			/>
			<mat-error>Bitte gebe ein Passwort ein</mat-error>
		</mat-form-field>
	</div>

	<a routerLink="/login/reset">Account löschen?</a>

	<button
		class="login-button"
		type="submit"
		mat-flat-button
		[color]="error ? 'warn' : 'primary'"
		[disabled]="isLoading || form.invalid"
	>
		Anmelden
	</button>
	<mat-error *ngIf="error" [ngSwitch]="error?.status">
		<ng-container *ngSwitchCase="400">Ungültige Zugangsdaten</ng-container>
		<ng-container *ngSwitchCase="500">Serverfehler</ng-container>
		<ng-container *ngSwitchDefault>Fehler beim Anmelden</ng-container>
	</mat-error>
</form>

<div class="register">
	Noch keinen Account?<br />
	<a routerLink="/login/register">Registrieren</a>
</div> -->